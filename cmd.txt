git config core.autocrlf true

stck = StockRecord.objects.filter(partner__id=1)

sudo ssh ubuntu@52.37.157.83 -i myecom.pem

token :  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

git push --set-upstream origin main


postgres:
role: infography
password: InfograPHYVkxU6QwVqJuq64U2ru6Vf
database: ecomdb

s3 bucket 
bucket name: ecom-bucket-001

IAM :
user group: s3-full-access
user: s3-admin

access key : AKIA47ZNMRCTP66GBMEL


bucket policy:
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "PublicReadGetObject",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::ecom-bucket-001/*"
        }
    ]
}

CORS:

[
    {
        "AllowedHeaders": [
            "Authorization"
        ],
        "AllowedMethods": [
            "GET",
            "HEAD"
        ],
        "AllowedOrigins": [
            "*"
        ],
        "ExposeHeaders": [
            "Access-Control-Allow-Origin"
        ]
    }
]

option_settings:
  aws:elasticbeanstalk:application:environment:
    DJANGO_SETTINGS_MODULE: "marketplace.settings"
    PYTHONPATH: "/var/app/current:$PYTHONPATH"
  aws:elasticbeanstalk:container:python:
    WSGIPath: "marketplace.wsgi:application"

container_commands:
  01_makemigrations:
    command: "source /var/app/venv/*/bin/activate && python3 manage.py makemigrations --noinput"
    leader_only: true
  02_migrate:
    command: "source /var/app/venv/*/bin/activate && python3 manage.py migrate --noinput"
    leader_only: true
  03_collectstatic:
    command: "source /var/app/venv/*/bin/activate && python3 manage.py collectstatic --noinput"
    leader_only: true


CNAME name:

_fd110d4ff860a28eab1fcea49b6224b6.connectopasal.com.

CNAME value:

_1fde9921a06189db22b0051d413b385a.tjztrygkxr.acm-validations.aws.


